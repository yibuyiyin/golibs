package crypt

import (
	"encoding/hex"
	"fmt"
	"net/url"
	"strings"
	"testing"
)

func TestAesEncodeDecode(t *testing.T) {
	//str := []byte("N0VDRjg3RUNCNUY3MjhEQ0FCOEVERTZCNDkwOTVFMjQwMjNBQzc3MDUzQzA2RkQ1QjEzQjQ4MTlDM0QzMjYxRjg0MTE2RTEyMDhFODQ2RDQ3RURGNDAzMjFFNDk2ODkxOEZERkIwQTNDNjg0NjEzNUQyNDM5QkRFNzNBQTRGQkVDNTdCRjAzQjYzMjRGNjIyNjY0MzYzQUI5QUZBQzNDNDA0NUNFNDY0QjQzRUZBQjUxMUMwRTdGMjA3QkUyMTZFQjAwMjYyNEEzQjQ3NUEwM0NFMTEzQUU1MkE0MTg2MjhBMjY0Q0Y2RDM2NDAxQkZFRDcxOEZBNUVCQjdBMDRCRjg2NEEyMTM2NTA4MUZBMTgxNUUzMTJFQjIzRkZEOUQwMDgyMEE4RkFBQzEyNkZGREM0OERGRTg1NjI4MzA5MDRGRDVFNEVCMDkzQzlEOTQxQjVDRjU3NjU5NzQ5MDNBODk2NTgzOEE3MjY3MThGRTQ2NzQxQjBFQkZENjE5QjI3ODEyNjdGN0E0NEIyODU2QUM0MjFFNzBEQzY5MzExQTY2MjgxQzU1REMzMUVBQTU4RjcyQzVEQjREQUU0NzkzREZDMUQ5NjI0MzI0RUEyRkU5MDI2ODFERkRBOEIyREI0QzhEODgxNENCOTE5NENCNzI5RkIzNEVCNEQ4Qzc4NjdENEExRjFDNTU1MjEzNjIyMTE3NzZGMEM3OEUyNzMzMEJGNEEwMkYxNTVDOTRFNUU2MjRFOEQ3M0YwNUQ2RjgyNzA3NTc3OTkwRjFFRTQ2OEVDNDRFMDE4MkM2MzIwRkE4OTgxMkNCQThCQTEyRTM2MzU5QjE0NkMxRUYzRDJCMUJDMDM2RkI3ODUxQzE2QzFDOUM4MDk1OEEyOUFBNTNDQzhDQzM4OTE4OEQ2MkRBRTUyMkIxOUZCOEU4MjQ1OTM0OTVDNzNERTM4QTYwQkY4MDVBODY2MzlFQjcwMDVDQjY2NEY3MDM0QUE2NTQzRjE5MDQ5MEM4RjlBOEJENDRDMUU2RTM4QjNBMjk2NkE3QzkxNzFGRkQ3Rjg0RDY5ODk5MjhDNkNDODg5NkEyMzNEQ0I0NzVDMkU0RkVFNEUxNDcxMEY3RjU5QjU0MTczRTFFRTczQkVCNzFBRTNGQjNFMDc4M0RGOTc3MzdCRTNFNzc5QTE5Q0Y0Qjk0RjlBNEQ1NTAwNkI2QUFGNzZGMDExNUUyMThGMjAxREE0RUI1MjQyNDU1NjlDN0RFRjk4QjY2RDY1RjdFNDIwM0JBRjlFOURFQ0ZDNTU2MzdBRkIwRDU5N0QxRUQyQTMyMzM2ODhEOTg3MUVDMkU4OTE3QUQ0NTc3RkVGNDY1QjUwQTc0N0NDNkMxM0VCNTM4QjE2MTE5OTQwQzg0NUJFMjYxODQyQTdCOUQyRTlCM0IwODBENURBNzY2MERFNjAwMzdBODJBRkRDOTUyNjFEMDlFRDY4RjhEOUMzOEExNDYzMUM4NThBNEVCQkI4QjAzMEQ0NjRDNjM5RDdCQTg4RTU3NjFFQ0VFNzMwREYxNDcyQkRGNkFEQTU4RTQxNjcwQjkxQUE2RUI1MDFCNUJGQzM4QjI4NjRGQkIyOTlGRjlDODA5Nzc0ODg1OTM1Mzc3Mzc4OEI1RTM4OEZBQ0M5MDYxMDVFODgwMDQ2RjdCRTA2OTg5ODUwNDY3OTNFNTdGQTYwQkVBOTI4MEU3OTE1RTA2MjczQjZFNDhDRkIzNzA5QzdDMDZENTM4RTc5M0M4Njg2OTc2OUE0OUMwMDA1N0Q3Mjg5REY1MThDNkIwNTREOTJBMTJFMkJDMTk2OUU4NDNGNURGODM4MzczRUJCQThDNjY0REE1MThFRkE0N0Y5NjEzMDU2REIwQUJDNjA0RTYzOTA2RTZGRDVENkE0RkEzNjdDMzk4MTlDQzUxOUMyMTU5OEIxMjNCNkRBRDEyQjBGM0QzRDlBQTdBQUQ5NDRENDkwNzk2MDlFMzZBMzkzREYzQzMwQkIyNEQ1RUREQkE5QjQ2M0FGRTEzNkUyMzgxOUE0MDlGQ0RCNzlDNUQzREYxMEQ4QzA4NzQ5RUFGNEY1QkNBRTE4RDM0QjQ0Rjc0REJDOEUwOEYzODlGOEQxQUVERTQ2REE4MDYzMTkzOTUyMjg1QTFBRDQ3NkExOTc1MjIy")
	//key := []byte("846acca7d02f6ba83460f0b626f37468")
	//str := "{\"userInfo\":{\"openStatus\":\"0\",\"gender\":\"2\",\"raind\":\"0\",\"oldUserId\":\"1502356914142\",\"certiType\":\"14\",\"updateTime\":\"2017-10-25 16:58:07\",\"mobileNo\":\"13950385870\",\"sysSrc\":\"001001001000\",\"userName\":\"林雨星\",\"birthDate\":\"2005-02-27\",\"userId\":1000000000066363,\"userCode\":\"M1502356914142\",\"policyLevel\":\"T\",\"checkStatus\":\"2\",\"userLevel\":\"1\",\"userPsw\":\"\",\"validStatus\":\"1\",\"createTime\":\"2017-08-10 00:00:00\",\"integral\":0.0,\"certiNo\":\"350123200\",\"userType\":\"0\"},\"respCode\":\"01\",\"errorMsg\":\"成功\"}\n"
	str := "test123adfl;asjdfl;ajsdfljasdlfjasdf"
	key := []byte("123456")
	str = url.QueryEscape(str)
	fmt.Println(1, Sha1(str))
	fmt.Println("k1", Sha1(string(key)))
	res, _ := AesEncryptECB([]byte(str), key)
	es := strings.ToUpper(hex.EncodeToString(res))
	fmt.Println(3, es)
	//mi := base64.StdEncoding.EncodeToString([]byte(es))
	//fmt.Println(4, Sha1(mi))
	//mid64,_ := base64.StdEncoding.DecodeString(mi)
	//fmt.Println(Sha1(string(mid64)))
	//mihex,_ := hex.DecodeString(string(mid64))
	//fmt.Println(string(mihex))
	//fmt.Println(Sha1(string(mihex)))
	//ming,_ := AesDecryptECB(mihex, key)
	//fmt.Println(string(ming))
}
